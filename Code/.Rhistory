readMat("../Data/Malaria/malariaDBLaNetworks2013.mat")
full_mat_malaria <- library(R.matlab)
library(R.matlab)
full_mat_malaria <- readMat("../Data/Malaria/malariaDBLaNetworks2013.mat")
?readMat
full_mat_malaria %>% names()
library(tidyverse)
full_mat_malaria %>% names()
full_mat_malaria$mats %>% names()
full_mat_malaria$mats %>% str()
full_mat_malaria$mats[,, 1] %>% str()
full_mat_malaria$header %>% str()
full_mat_malaria$header %>% length()
full_mat_malaria$header %>% drop()
full_mat_malaria$header %>% unlist()
mala_names <- full_mat_malaria$header %>% unlist()
full_mat_malaria$met.par
full_mat_malaria$met.CP
full_mat_malaria$met.UPS
full_mat_malaria$met.CP %>% str()
full_mat_malaria$met.UPS %>% str
full_mat_malaria$met.CP %>% str()
full_mat_malaria$met.UPS %>% str
mala_meta_df <- tibble(
mala_names = mala_names,
CP = full_mat_malaria$met.CP,
UPS = full_mat_malaria$met.UPS
)
write_csv(path = "../Outputs/Data/Malaria/metadata.csv")
mala_meta_df %>%
write_csv(path = "../Outputs/Data/Malaria/metadata.csv")
for(mat_index in 1:9){
temp_matrix <- full_mat_malaria$mats[,, mat_index]
colnames(temp_matrix) <- mala_names
file_name <- paste0("adj_",mat_index,".csv")
temp_path <- paste0("../Outputs/Data/Malaria/",file_name)
write_csv(temp_matrix,temp_path)
}
for(mat_index in 1:9){
temp_matrix <- full_mat_malaria$mats[,, mat_index] %>% as_data_frame()
colnames(temp_matrix) <- mala_names
file_name <- paste0("adj_",mat_index,".csv")
temp_path <- paste0("../Outputs/Data/Malaria/",file_name)
write_csv(temp_matrix,temp_path)
}
library(tidyverse)
if(!"R.matlab" %in% installed.packages()){
install.packages("R.matlab")
}
getwd()
getwd()
library(here)
install.packages("here")
library(here)
here()
library(tidyverse)
if(!"here" %in% installed.packages()){
install.packages("here")
}
library(here)
if(!"R.matlab" %in% installed.packages()){
install.packages("R.matlab")
}
library(R.matlab)
library(tidyverse)
if(!"here" %in% installed.packages()){
install.packages("here")
}
library(here)
if(!"R.matlab" %in% installed.packages()){
install.packages("R.matlab")
}
library(R.matlab)
setwd("~/2019/Priebe/Code")
full_mat_law <- readMat("../Data/Lazega/lazega.mat")
full_mat_law <- readMat("../Data/Lazega/lazega.mat")
library(tidyverse)
if(!"here" %in% installed.packages()){
install.packages("here")
}
library(here)
here()
if(!"R.matlab" %in% installed.packages()){
install.packages("R.matlab")
}
library(R.matlab)
full_mat_law <- readMat("../Data/Lazega/lazega.mat")
library(tidyverse)
if(!"here" %in% installed.packages()){
install.packages("here")
}
library(here)
here()
if(!"R.matlab" %in% installed.packages()){
install.packages("R.matlab")
}
library(R.matlab)
full_mat_law <- readMat("../Data/Lazega/lazega.mat")
getwd()
#full_mat_law <- readMat("")
library(tidyverse)
if(!"here" %in% installed.packages()){
install.packages("here")
}
library(here)
setwd(here())
if(!"R.matlab" %in% installed.packages()){
install.packages("R.matlab")
}
library(R.matlab)
full_mat_law <- readMat("../Data/Lazega/lazega.mat")
full_mat_law <- readMat(here("../Data/Lazega/lazega.mat"))
full_mat_law %>% names()
full_mat_malaria$adj.advice %>% str()
full_mat_law$adj.advice %>% str()
full_mat_law$adj.friend %>% str()
full_mat_law$adj.advice %>% str()
full_mat_law$adj.friend %>% str()
full_mat_law$adj.work %>% str()
full_mat_law$adj.work %>% names()
full_mat_law$adj.advice %>% str()
full_mat_law$adj.friend %>% str()
full_mat_law$adj.work %>% str()
full_mat_law$met.gender %>% str()
full_mat_law$met.office %>% str()
full_mat_law$met.practice %>% str()
full_mat_law$met.school %>% str()
full_mat_law$met.gender %>% str()
full_mat_law$met.office %>% str()
full_mat_law$met.practice %>% str()
full_mat_law$met.school %>% str()
full_mat_law$met.status %>% str()
tibble(
names = rowid_to_column(),
gender = full_mat_law$met.gender,
office = full_mat_law$met.office,
practice = full_mat_law$met.practice,
school = full_mat_law$met.school,
status = full_mat_law$met.status
)
tibble(
gender = full_mat_law$met.gender,
office = full_mat_law$met.office,
practice = full_mat_law$met.practice,
school = full_mat_law$met.school,
status = full_mat_law$met.status
) %>%
rowid_to_column()
lazega_meta_df <- tibble(
gender = full_mat_law$met.gender,
office = full_mat_law$met.office,
practice = full_mat_law$met.practice,
school = full_mat_law$met.school,
status = full_mat_law$met.status
) %>%
rowid_to_column("names")
lazega_meta_df %>%
write_csv(path = here("../Outputs/Data/Lazega/metadata.csv"))
full_mat_law %>% names() %>% starts_with("adj")
full_mat_law %>% names()
full_mat_law %>% names() %>% typeof()
full_mat_law %>% names() %>% starts_with("adj",.)
full_mat_law %>% names() %>% stringr::str_match_all("adj")
full_mat_law %>% names() %>% stringr::str_match("adj")
full_mat_law %>% names() %>% stringr::str_starts("adj")
full_mat_law %>% names() %>% stringr::str_detect("adj")
full_mat_law %>% names() %>% stringr::str_which("adj")
full_mat_law %>% names() %>% stringr::str_view("adj")
full_mat_law %>% names() %>% stringr::str_view_all("adj")
full_mat_law %>% names() %>% stringr::str_dup("adj")
full_mat_law %>% names() %>% stringr::str_extract_all("adj")
full_mat_law %>% names() %>% stringr::str_subset("adj")
adjs_names <- full_mat_law %>%
names() %>%
stringr::str_subset("adj")
mets_names <- full_mat_law %>%
names() %>%
stringr::str_subset("met")
full_mat_law$adjs_names %>% str()
full_mat_law[[adjs_names]] %>% str()
full_mat_law[adjs_names] %>% str()
full_mat_law[mets_names] %>% str()
adj.advice %>%
str_replace(".","_")
"adj.advice" %>%
str_replace(".","_")
"adj.advice" %>%
str_replace("\.","_")
"adj.advice" %>%
str_replace("\\.","_")
full_mat_law["adj.advice"] %>%
as_tibble() %>%
rowid_to_column("names")
for(mat_name in adjs_names){
temp_matrix <- full_mat_law[mat_name]
file_name <- mat_name %>%
str_replace("\\.","_") %>%
paste0(".csv")
temp_path <- paste0(here("../Outputs/Data/Lazega/"),file_name)
write_csv(temp_matrix,temp_path)
}
full_mat_law["adj.advice"] %>%
as_tibble()
for(mat_name in adjs_names){
temp_matrix <- full_mat_law[mat_name] %>%
as_tibble()
colnames(temp_matrix) <- 1:dim(temp_matrix)[1]
file_name <- mat_name %>%
str_replace("\\.","_") %>%
paste0(".csv")
temp_path <- paste0(here("../Outputs/Data/Lazega/"),file_name)
write_csv(temp_matrix,temp_path)
}
for(mat_name in adjs_names){
temp_matrix <- full_mat_law[mat_name] %>%
as_tibble()
colnames(temp_matrix) <- 1:dim(full_mat_law[mat_name])[1]
file_name <- mat_name %>%
str_replace("\\.","_") %>%
paste0(".csv")
temp_path <- paste0(here("../Outputs/Data/Lazega/"),file_name)
write_csv(temp_matrix,temp_path)
}
for(mat_name in adjs_names){
temp_matrix <- full_mat_law[mat_name] %>%
as_tibble()
colnames(temp_matrix) <- 1:71
file_name <- mat_name %>%
str_replace("\\.","_") %>%
paste0(".csv")
temp_path <- paste0(here("../Outputs/Data/Lazega/"),file_name)
write_csv(temp_matrix,temp_path)
}
temp_matrix
colnames(temp_matrix)
names(temp_matrix)
temp_matrix
full_mat_law["adj.advice"] %>%
as_tibble(.name_repair = "unique")
full_mat_law["adj.advice"] %>%
as_tibble(.name_repair = "universal")
full_mat_law["adj.advice"] %>%
as_tibble() %>%
split(adj.advice)
full_mat_law["adj.advice"] %>%
as_tibble() %>%
split()
full_mat_law["adj.advice"]
full_mat_law["adj.advice"] %>%
as_data_frame()
?as_tibble
for(mat_name in adjs_names){
temp_matrix <- full_mat_law[mat_name]
col_names(temp_matrix) <- 1:dim(temp_matrix)[1]
file_name <- mat_name %>%
str_replace("\\.","_") %>%
paste0(".csv")
temp_path <- paste0(here("../Outputs/Data/Lazega/"),file_name)
temp_matrix %>%
as_tibble() %>%
write_csv(temp_path)
}
dim(temp_matrix)
temp_matrix
for(mat_name in adjs_names){
temp_matrix <- full_mat_law[[mat_name]]
col_names(temp_matrix) <- 1:dim(temp_matrix)[1]
file_name <- mat_name %>%
str_replace("\\.","_") %>%
paste0(".csv")
temp_path <- paste0(here("../Outputs/Data/Lazega/"),file_name)
temp_matrix %>%
as_tibble() %>%
write_csv(temp_path)
}
temp_matrix
for(mat_name in adjs_names){
temp_matrix <- full_mat_law$mat_name
col_names(temp_matrix) <- 1:dim(temp_matrix)[1]
file_name <- mat_name %>%
str_replace("\\.","_") %>%
paste0(".csv")
temp_path <- paste0(here("../Outputs/Data/Lazega/"),file_name)
temp_matrix %>%
as_tibble() %>%
write_csv(temp_path)
}
dim(temp_matrix)
temp_matrix
mat_name
full_mat_law[mat_name]
full_mat_law[mat_name, drop = TRUE]
full_mat_law[mat_name] %>% unlist()
full_mat_law[mat_name] %>% as.matrix()
full_mat_law[mat_name]
dims(full_mat_law[mat_name])
length(full_mat_law[mat_name])
full_mat_law[mat_name][1]
full_mat_law[mat_name][1] %>% dim()
full_mat_law[mat_name][[1]] %>% dim()
full_mat_law[[mat_name]] %>% dim()
full_mat_law[[mat_name]]
temp_matrix <- full_mat_law[[mat_name]]
dim(temp_matrix)[1]
1:71
col_names(temp_matrix) <- 1:dim(temp_matrix)[1]
names(temp_matrix) <- 1:dim(temp_matrix)[1]
for(mat_name in adjs_names){
temp_matrix <- full_mat_law[[mat_name]]
names(temp_matrix) <- 1:dim(temp_matrix)[1]
file_name <- mat_name %>%
str_replace("\\.","_") %>%
paste0(".csv")
temp_path <- paste0(here("../Outputs/Data/Lazega/"),file_name)
temp_matrix %>%
as_tibble() %>%
write_csv(temp_path)
}
temp_matrix %>%
as_tibble()
temp_matrix %>%
as_tibble(.name_repair = "unique")
temp_matrix %>%
as_tibble(.name_repair = "minimal")
for(mat_name in adjs_names){
temp_matrix <- full_mat_law[[mat_name]]
names(temp_matrix) <- 1:dim(temp_matrix)[1]
file_name <- mat_name %>%
str_replace("\\.","_") %>%
paste0(".csv")
temp_path <- paste0(here("../Outputs/Data/Lazega/"),file_name)
temp_matrix %>%
as_tibble(.name_repair = "minimal") %>%
write_csv(temp_path)
}
temp_matrix %>%
as_tibble(.name_repair = "universal")
temp_matrix %>%
as_tibble(.name_repair = "check_unique")
temp_matrix
colnames(temp_matrix)
col.names(temp_matrix)
temp_matrix <- full_mat_law[[mat_name]]
col.names(temp_matrix)
colnames(temp_matrix)
colnames(temp_matrix) <- 1:dim(temp_matrix)[1]
temp_matrix %>%
as_tibble(.name_repair = "check_unique")
for(mat_name in adjs_names){
temp_matrix <- full_mat_law[[mat_name]]
colnames(temp_matrix) <- 1:dim(temp_matrix)[1]
file_name <- mat_name %>%
str_replace("\\.","_") %>%
paste0(".csv")
temp_path <- paste0(here("../Outputs/Data/Lazega/"),file_name)
temp_matrix %>%
as_tibble(.name_repair = "check_unique") %>%
write_csv(temp_path)
}
read_csv(here("../Data/Karate/karate.txt"))
read_delim(here("../Data/Karate/karate.txt"))
read_delim(here("../Data/Karate/karate.txt"),
delim = " ")
read_delim(here("../Data/Karate/karate.txt"),
delim = "\t")
read_delim(here("../Data/Karate/karate.txt"),
delim = "\t",
header = FALSE)
read_delim(here("../Data/Karate/karate.txt"),
delim = "\t",
skip = FALSE)
read_tsv(here("../Data/Karate/karate.txt"),
col_names = FALSE)
read_tsv(here("../Data/Karate/karate.txt"),
col_names = c("from","to"))
edge_list_karate <-
read_tsv(here("../Data/Karate/karate.txt"),
col_names = c("from","to"),
col_types = cols(
from = col_integer(),
to = col_integer()
)
)
edge_list_karate <-
read_tsv(here("../Data/Karate/karate.txt"),
col_names = c("from","to"),
col_types = cols(
from = col_integer(),
to = col_integer()
)
) %>%
as_tibble()
library(tidyverse)
if(!"here" %in% installed.packages()){
install.packages("here")
}
library(here)
setwd(here())
if(!"tidygraph" %in% installed.packages()){
devtools::install_github('thomasp85/tidygraph')
}
library(tidygraph)
edge_list_karate %>% tbl_graph()
edge_list_karate %>% tbl_graph(edges = .)
edge_list_karate %>% tbl_graph(edges = .) %>% to_undirected()
edge_list_karate %>% tbl_graph(edges = .) %>% to_undirected() %>% to_simple()
edge_list_karate %>% tbl_graph(edges = .) %>% to_simple()
edge_list_karate %>% tbl_graph(nodes = 1:34, edges = .) %>% to_undirected()
edge_list_karate %>% tbl_graph(nodes = 1:36, edges = .) %>% to_undirected()
edge_list_karate %>% tbl_graph(nodes = 1:38, edges = .) %>% to_undirected()
edge_list_karate %>% tbl_graph(nodes = 1:39, edges = .) %>% to_undirected()
edge_list_karate %>% tbl_graph(edges = .) %>% to_undirected()
edge_list_karate %>% unlist()
edge_list_karate %>% unlist() %>% max()
edge_list_karate %>%
tbl_graph(edges = .)
edge_list_karate %>%
tbl_graph(edges = .) %>%
to_simple()
?to_undirected
read_tsv(here("../Data/Karate/karate.txt"),
col_names = c("from","to"),
col_types = cols(
from = col_integer(),
to = col_integer()
)
)
edge_list_karate <-
read_tsv(here("../Data/Karate/karate.txt"),
col_names = c("from","to"),
col_types = cols(
from = col_character(),
to = col_character()
)
) %>%
as_tibble()
edge_list_karate %>%
tbl_graph(edges = .) %>%
to_undirected()
edge_list_karate %>%
tbl_graph(edges = .) %>%
to_undirected() %>%
igraph::as_adj()
edge_list_karate %>%
tbl_graph(edges = .) %>%
to_undirected() %>%
igraph::as_adj() %>%
as.matrix()
edge_list_karate %>%
tbl_graph(edges = .) %>%
to_undirected() %>%
activate("nodes")
edge_list_karate %>%
tbl_graph(edges = .) %>%
to_undirected() %>%
activate("nodes") %>%
arrange(name)
edge_list_karate %>%
tbl_graph(edges = .) %>%
to_undirected() %>%
activate("nodes") %>%
arrange(as.integer(name))
edge_list_karate %>%
tbl_graph(edges = .) %>%
to_undirected() %>%
activate("nodes") %>%
arrange(as_integer(name))
edge_list_karate %>%
tbl_graph(edges = .) %>%
to_undirected() %>%
activate("nodes") %>%
arrange(as.integer(name)) %>%
igraph::as_adj() %>%
as.matrix()
as_adj
adj_karate <- edge_list_karate %>%
tbl_graph(edges = .) %>%
to_undirected() %>%
activate("nodes") %>%
arrange(as.integer(name)) %>%
igraph::as_adj() %>%
as.matrix()
meta_karate <- read_csv(
here("../Data/Karate/karate_faction.txt"),
col_names = "Faction"
) %>%
rowid_to_column()
meta_karate <- read_csv(
here("../Data/Karate/karate_faction.txt"),
col_names = "Faction"
) %>%
rowid_to_column("names")
meta_karate %>%
write_csv(path = here("../Outputs/Data/Karate/metadata.csv"))
adj_karate
adj_karate %>%
as_tibble(.name_repair = "check_unique")
temp_path <- paste0(here("../Outputs/Data/Karate/adj.csv"))
adj_karate %>%
as_tibble(.name_repair = "check_unique") %>%
write_csv(temp_path)
full_mat_malaria <- readMat(here("../Data/Malaria/malariaDBLaNetworks2013.mat"))
full_mat_malaria %>% names()
full_mat_malaria$mats %>% str()
mala_names <- full_mat_malaria$header %>% unlist()
mala_meta_df <- tibble(
names = mala_names,
CP = full_mat_malaria$met.CP,
UPS = full_mat_malaria$met.UPS
)
mala_meta_df %>%
write_csv(path = here("../Outputs/Data/Malaria/metadata.csv"))
